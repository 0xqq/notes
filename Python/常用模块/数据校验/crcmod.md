# 模块简介



# 循环冗余校验

## 基本原理

* 发送方在P位二进制信息帧序列后附加一个R位二进制校验码帧序列,从而构成一个总长为N=P+R的二进制帧序列,R与P之前存在某种特定关系,如果数据被篡改,这种特定关系将被破坏,所以接收端可通过检查这一关系实现对数据正确性校验.

## 涉及概念

### 模二运算

> 一种二进制算法,是CRC校验核心.与四则运算相同的是模二运算也包括模二加,模二减,模二乘,模二除,但不同的是模二运算不考虑进位和借位.

```bash
# 算术除法
示例: 120 / 9 = 13 余 3, 120是被除数, 9是除数, 13是商, 3是余数

# 模二除法
规律: 同为0, 异为1
示例:
          1110   # 14(1110)商
       ---------
1001 / 1111000   # 120(1111000)是被除数,9(1001)是除数
       1001
       ---------
        110000
        1001
       ---------
         10100
         1001
       ---------
           110   # 6(110)是余数
```

### 生成多项式

> 当CRC校验时,发送方和接收方需要事先约定一个模二除法中的除数(生成多项式),除数的最高位与最低位必须是1,每一个多项式都与一个二进制除数对应,如CRC-8表示100110001,生成多项式主要用于降低校验出错率.

## 校验流程

* 发送端
  * 发送方将要传输的数据用二进制形式展开
  * 双方选定生成多项式
  * 发送方在将要传输的数据的二进制形式后补选定的生成多项式的二进制形式长度个0
  * 发送方用补0后的数据的二进制模二除选定的生成多项式的二进制,得到的余数既为帧校验码
  * 发送方将要传输的数据用二进制形式后附加帧校验码发送给接收端

* 接收端
  * 双方选定生成多项式
  * 接收端将收到的数据的二进制模二除选定的生成多项式的二进制,如果可以整除则CRC验证通过

